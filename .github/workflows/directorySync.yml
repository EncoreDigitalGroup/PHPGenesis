name: DirectorySync

on:
    workflow_dispatch:

jobs:

    Common:
        uses: EncoreDigitalGroup/.github/.github/workflows/directorySync.yml@v1
        with:
            source: 'src/Common/docs/'
            targetRepo: 'encoredigitalgroup/docs.encoredigitalgroup.com'
            targetDirectory: 'docs/Code/PHP/Packages/PHPGenesis/Common'
        secrets:
            token: ${{ secrets.GH_GENERAL_ACCESS_TOKEN }}

    Logger:
        uses: EncoreDigitalGroup/.github/.github/workflows/directorySync.yml@v1
        with:
            source: 'src/Logger/docs/'
            targetRepo: 'encoredigitalgroup/docs.encoredigitalgroup.com'
            targetDirectory: 'docs/Code/PHP/Packages/PHPGenesis/Logger'
        secrets:
            token: ${{ secrets.GH_GENERAL_ACCESS_TOKEN }}

    Services_AmazonWebServices:
        uses: EncoreDigitalGroup/.github/.github/workflows/directorySync.yml@v1
        with:
            source: 'src/Services/AmazonWebServices/docs/'
            targetRepo: 'encoredigitalgroup/docs.encoredigitalgroup.com'
            targetDirectory: 'docs/Code/PHP/Packages/PHPGenesis/Services/AmazonWebServices'
        secrets:
            token: ${{ secrets.GH_GENERAL_ACCESS_TOKEN }}